# Export Guide

This guide explains how to export and share your chord charts from Lyra in various formats.

## Overview

Lyra provides comprehensive export capabilities for sharing your chord charts with others or backing up your library. You can export individual songs, complete sets, entire books, or your whole library in multiple formats.

## Export Formats

### PDF (Recommended)
- **Best for**: Printing, sharing, professional presentations
- **Features**:
  - Professional layout with headers and footers
  - Proper chord positioning above lyrics
  - Metadata included (title, artist, key, tempo)
  - Pagination for longer songs
  - Table of contents for sets and books
- **File extension**: .pdf

### ChordPro
- **Best for**: Importing to other chord chart apps
- **Features**:
  - Industry-standard format
  - Preserves all metadata and directives
  - Compatible with most chord chart software
  - Plain text format
- **File extension**: .cho

### Plain Text
- **Best for**: Email, notes, simple sharing
- **Features**:
  - Readable in any text editor
  - No special formatting
  - Chords and lyrics preserved
  - Lightweight file size
- **File extension**: .txt

### OnSong
- **Best for**: OnSong app users
- **Features**:
  - Native OnSong format
  - Metadata in OnSong style
  - Chord notation: .C .Am .F
  - Direct import to OnSong
- **File extension**: .onsong

### HTML
- **Best for**: Web viewing, email with formatting
- **Features**:
  - Styled for web browsers
  - Color-coded chords
  - Responsive layout
  - Embedded CSS
- **File extension**: .html

## Exporting Songs

### From Song Detail View

1. Open any song in your library
2. Tap the menu button (•••) in the top right
3. Choose from export options:
   - **Export**: Full options with format selection
   - **Print**: Direct print to AirPrint printer
   - **Quick Export as PDF**: Instant PDF export
   - **Quick Export as ChordPro**: Instant ChordPro export

### Export with Options

1. Select **Export** from the menu
2. Choose your desired format
3. For PDF exports, configure:
   - Include header (title, artist, metadata)
   - Include footer (custom text)
   - Footer text (default: "Created with Lyra")
4. Tap **Export**
5. Share sheet appears with sharing options

### Quick Export

For faster exports:
1. Select **Quick Export as PDF** or **Quick Export as ChordPro**
2. Uses default settings
3. Share sheet appears immediately

## Exporting Sets

### From Set Detail View

1. Open any performance set
2. Tap the menu button (•••) in the top right
3. Choose:
   - **Export Set**: Full export with format selection
   - **Print Set**: Print entire set with table of contents

### Set Export Features

When exporting a set:
- **Title page** with set name, date, and venue
- **Table of contents** listing all songs
- **Each song** on separate pages with song number
- **Override settings** applied (key, capo, tempo changes)
- **Entry notes** included for each song
- **Page numbers** and set name in footer

### Set Export Formats

- **PDF**: Complete formatted document with TOC
- **ChordPro/Text/OnSong/HTML**: Combined file with all songs
  - Songs separated by headers
  - Set metadata at the top
  - All songs in order

## Exporting Books

### From Book Detail View

1. Open any book
2. Tap the menu button (•••) in the top right
3. Choose:
   - **Export Book**: Full export with format selection
   - **Print Book**: Print entire book with table of contents

### Book Export Features

When exporting a book:
- **Cover page** with book name and description
- **Table of contents** listing all songs alphabetically
- **Each song** on separate pages
- **Page numbers** and book name in footer
- **Song count** on cover page

## Library Backup/Export

### Exporting Your Entire Library

1. Go to **Settings**
2. Tap **Export Library** in the Library section
3. View library summary:
   - Total songs
   - Total books
   - Total sets
4. Select export format (applies to all items)
5. Tap **Export Library**
6. Progress indicator shows export status
7. Compressed archive (.zip) created
8. Share sheet appears when complete

### Archive Contents

The exported library archive contains:
```
Lyra_Export_[Date].zip
├── README.txt (export information)
├── Songs/
│   ├── Song1.pdf (or .cho, .txt, etc.)
│   ├── Song2.pdf
│   └── ...
├── Books/
│   ├── Book1.pdf
│   ├── Book2.pdf
│   └── ...
└── Sets/
    ├── Set1.pdf
    ├── Set2.pdf
    └── ...
```

### When to Use Library Export

- **Backup**: Regular backups of your entire library
- **Migration**: Moving to a new device
- **Sharing**: Sharing your complete collection
- **Archival**: Long-term storage
- **Collaboration**: Sharing with band members

## Print Functionality

### Printing Songs

1. Open song detail view
2. Tap menu (•••) → **Print**
3. Select printer (AirPrint-compatible)
4. Configure print settings:
   - Number of copies
   - Page range
   - Paper size
5. Tap **Print**

### Printing Sets

1. Open set detail view
2. Tap menu (•••) → **Print Set**
3. Prints complete set with:
   - Title page
   - Table of contents
   - All songs
4. Select printer and settings
5. Tap **Print**

### Printing Books

1. Open book detail view
2. Tap menu (•••) → **Print Book**
3. Prints complete book with:
   - Cover page
   - Table of contents
   - All songs alphabetically
4. Select printer and settings
5. Tap **Print**

### Print Tips

- **Preview** before printing to verify layout
- **Two-sided printing** for book/set exports
- **Color printing** for chord highlighting (PDF)
- **Letter size** (8.5" x 11") is default
- **Staple** multi-page prints for easy reference

## Share Options

### Available Share Methods

After exporting, you can share via:
- **AirDrop**: Quick sharing to nearby Apple devices
- **Messages**: Send via iMessage or SMS
- **Mail**: Email as attachment
- **Files**: Save to iCloud Drive or Files app
- **Copy**: Copy to clipboard
- **Third-party apps**: Save to Dropbox, Google Drive, etc.

### Sharing via AirDrop

1. Export song/set/book
2. Tap **AirDrop** in share sheet
3. Select recipient device
4. File transfers automatically

### Sharing via Email

1. Export song/set/book
2. Tap **Mail**
3. Compose message
4. File attached automatically
5. Send

### Saving to Files

1. Export song/set/book
2. Tap **Save to Files**
3. Choose location (iCloud, On My iPhone, etc.)
4. Tap **Save**
5. Access from Files app anytime

## PDF Configuration

### Header Options

**Include Header** (default: on)
- Song title (large, bold)
- Artist name
- Metadata row (key, tempo, time signature)
- Separator line

**Exclude Header**
- Content starts at top of page
- More compact layout
- Better for printing on small paper

### Footer Options

**Include Footer** (default: on)
- Centered text at bottom of each page
- Default: "Created with Lyra"
- Customizable text

**Custom Footer Text**
- Enter any text (e.g., "Property of [Band Name]")
- Copyright notices
- Contact information
- Version numbers

### Layout Settings

All PDF exports use:
- **Page size**: US Letter (8.5" x 11")
- **Margins**: 1 inch on all sides
- **Font**: System fonts for readability
- **Chord font**: Monaco/monospaced, 14pt, bold
- **Lyrics font**: Monaco/monospaced, 12pt
- **Spacing**: Optimized for readability

## Format Conversion Details

### ChordPro → Plain Text

Conversion removes:
- ChordPro directives `{title: ...}`
- Chord brackets `[C]` → `C`

Preserves:
- Lyrics and chords
- Line structure
- Section markers

### ChordPro → OnSong

Conversion changes:
- Chord notation: `[C]` → `.C`
- Metadata to OnSong format
- Directives to OnSong style

### ChordPro → HTML

Conversion adds:
- CSS styling for chords (blue, bold)
- Section highlighting
- Responsive layout
- Metadata display

## Best Practices

### For Individual Songs

- **PDF** for printing or professional sharing
- **ChordPro** for importing to other apps
- **Plain Text** for quick email sharing
- **HTML** for web viewing

### For Sets

- **PDF** for performance (includes TOC)
- Always include headers and footers
- Print or export before performance
- Keep backup copies

### For Books

- **PDF** for complete songbooks
- Include cover page and TOC
- Export alphabetically sorted
- Use descriptive book names

### For Library Backup

- **Export regularly** (weekly or monthly)
- **Save to cloud** (iCloud, Dropbox, Google Drive)
- **Keep multiple versions** for history
- **Test restore** occasionally
- **Format**: Use ChordPro for maximum compatibility

## Troubleshooting

### Export Fails

**Symptom**: Export operation fails with error

**Solutions**:
1. Check available storage space
2. Try smaller export (single song vs. library)
3. Restart app and try again
4. Ensure song has content
5. Check for special characters in titles

### PDF Looks Wrong

**Symptom**: PDF layout issues, missing content

**Solutions**:
1. Verify song content is ChordPro format
2. Check for very long lines (may wrap oddly)
3. Try without header/footer to see content
4. Ensure song has title and content

### Can't Open Exported File

**Symptom**: Shared file won't open on recipient device

**Solutions**:
1. Verify recipient has appropriate app (PDF reader, text editor)
2. Try different format (PDF is most universal)
3. Re-export with different share method
4. Check file size (very large files may fail to send)

### Share Sheet Not Appearing

**Symptom**: No share options after export

**Solutions**:
1. Ensure export completed successfully
2. Check for error messages
3. Try again with smaller export
4. Restart app if needed

### Library Export Takes Too Long

**Symptom**: Library export hangs or times out

**Solutions**:
1. Reduce library size (export books/sets separately)
2. Choose simpler format (Plain Text faster than PDF)
3. Close other apps to free memory
4. Try on device with more storage
5. Export in batches (books individually)

## Performance Considerations

### Export Speed

Approximate times for typical content:
- **Single song (PDF)**: 1-2 seconds
- **Set with 10 songs (PDF)**: 5-10 seconds
- **Book with 50 songs (PDF)**: 20-30 seconds
- **Library export**: 1-5 minutes (varies by size)

### File Sizes

Typical file sizes:
- **PDF**: 50-100 KB per page
- **ChordPro**: 2-5 KB per song
- **Plain Text**: 1-3 KB per song
- **OnSong**: 2-5 KB per song
- **HTML**: 5-10 KB per song
- **Library ZIP**: 1-50 MB (depends on content)

### Memory Usage

- PDF exports use more memory (rendering)
- Large sets/books may use 50-100 MB temporarily
- Library export peaks at 200-300 MB
- Memory freed after export completes

## Advanced Features

### Batch Export (via Library Export)

Export multiple items at once:
1. Use Library Export for all items
2. Select format once, applies to all
3. Organized into folders automatically
4. Single ZIP file for convenience

### Custom PDF Footers

Add branding or copyright:
1. Choose Export with Options
2. Select PDF format
3. Enable "Include Footer"
4. Enter custom text:
   - "© 2024 [Your Name]"
   - "Property of [Band Name]"
   - "www.yourwebsite.com"

### Format-Specific Tips

**PDF**:
- Best quality for printing
- Largest file size
- Universal compatibility
- Professional appearance

**ChordPro**:
- Standard format for chord charts
- Import to OnSong, ChordPro apps
- Plain text, editable
- Preserves all metadata

**Plain Text**:
- Simplest format
- Smallest file size
- No special apps needed
- Good for quick sharing

**HTML**:
- Viewable in any browser
- Formatted and styled
- Email-friendly
- No special apps needed

## Integration with Other Apps

### OnSong Import

1. Export song as ChordPro or OnSong format
2. Share to OnSong app via share sheet
3. OnSong imports automatically
4. Metadata preserved

### forScore (PDF)

1. Export song/set/book as PDF
2. Share to forScore app
3. Appears in forScore library
4. Annotations possible in forScore

### Dropbox/Google Drive

1. Export desired content
2. Choose "Save to Files" in share sheet
3. Navigate to Dropbox or Drive folder
4. Save for cloud backup
5. Accessible from any device

## Privacy & Security

### Export Data

- Exports contain your chord charts only
- No personal information included (unless in custom footers)
- No cloud upload without explicit sharing
- Files stored temporarily, deleted after sharing

### Secure Sharing

- Use encrypted channels (iMessage, encrypted email)
- Share via AirDrop for local, secure transfer
- Password-protect ZIP files if needed (external tool)
- Be mindful of copyright when sharing copyrighted songs

## Frequently Asked Questions

### Can I export songs with attachments?

Currently, exports include chord chart content only. PDF attachments are not included in exports. The exported PDF is newly rendered from the chord chart content.

### What's the maximum library size for export?

There's no hard limit, but larger libraries (500+ songs) may take several minutes to export. Consider exporting books or sets individually for very large libraries.

### Can I customize PDF fonts and colors?

The current version uses optimized default fonts and colors. Future versions may include customization options.

### Will my transposed chords be exported?

Exports use the original key by default. For sets, if you've set a key override for a song in the set, that transposed version will be included in the set export.

### Can I export to Word or Google Docs format?

Not directly, but you can:
1. Export as Plain Text or HTML
2. Open in Pages/Word/Google Docs
3. Format as needed

### How do I restore from a library export?

Library exports are for backup/sharing. To restore:
1. Extract ZIP file
2. Import files individually using Lyra's import feature
3. Bulk import supported (see BULK_IMPORT.md)

### Do exports preserve my books and sets?

Books and sets are exported as complete documents (PDF with TOC), but the organizational structure (which songs are in which books) is not preserved. Each export is a standalone file.

## Support

For export issues:

1. Check this guide for solutions
2. Verify song content is valid ChordPro format
3. Try different export format
4. Ensure sufficient storage space
5. Report persistent issues with:
   - Export format attempted
   - Content type (song/set/book/library)
   - Error message received
   - Device model and iOS version

---

**Note**: Export functionality requires iOS 15+ for full features. Some sharing options depend on installed apps and system capabilities.
