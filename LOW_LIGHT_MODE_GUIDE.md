# Low Light Mode Guide

## Overview

Lyra's Low Light Mode is designed for musicians who perform or practice in dark environments. Using red/amber lighting and reduced screen brightness, Low Light Mode preserves night vision while providing clear visibility of your music. This feature is essential for stage performances, dimly lit rehearsal spaces, and late-night practice sessions.

## Quick Start

### Enabling Low Light Mode

1. Open any song in Lyra
2. Tap the **moon icon** in the toolbar (top right)
3. Screen immediately switches to low light mode
4. Tap again to disable

**Keyboard Shortcut**: Press **Cmd+L** to toggle low light mode instantly

### What Happens When Enabled

- **Background turns black** for maximum contrast
- **Text changes to red/amber** color for night vision preservation
- **Screen brightness automatically reduces** to comfortable level
- **UI elements dim** to reduce visual distraction
- **PDF content is tinted** with red/amber overlay

## Low Light Interface

### Quick Toggle

**Moon Icon** in toolbar:
- **Gray moon**: Low light mode disabled
- **Colored moon with indicator**: Low light mode enabled
- Shows current low light color when active
- Long-press or context menu for settings

### Settings Access

1. **Context Menu**: Long-press moon icon → "Low Light Settings"
2. **Direct Access**: Open settings from context menu

## Low Light Settings

### Color Scheme

**Available Colors**:
- **Red** (Default): Classic red for maximum night vision preservation
- **Amber**: Warmer tone, easier on eyes for extended viewing
- **Orange**: Balance between visibility and night vision
- **Deep Red**: Darker red for very low light environments

**How to Choose**:
- **Stage performance**: Red (best night vision)
- **Practice**: Amber (more comfortable)
- **Very dark venues**: Deep Red (subtle presence)
- **Recording studios**: Orange (good visibility)

**Color Indicator**: Small circle preview next to each color option

### Intensity Control

**Slider**: 30% to 100%

**Purpose**: Controls brightness and saturation of low light color

**Low Intensity (30-50%)**:
- Very subtle tint
- Extremely dark environments
- Minimal light pollution
- Best for preserving night vision

**Medium Intensity (50-70%)**:
- Balanced visibility and night vision
- Most common use case
- Stage performances
- Recommended default (70%)

**High Intensity (70-100%)**:
- Maximum visibility
- Moderately dark environments
- When you need to read details quickly
- Practice sessions with some ambient light

**Real-time Preview**: Settings sheet shows preview of current intensity

### Brightness Control

**Automatic**: Low light mode reduces screen brightness automatically based on intensity

**Manual Override**: Drag brightness slider to set custom level (5% - 50%)

**Benefits**:
- Saves battery during long performances
- Reduces eye strain
- Minimizes light pollution on stage
- Extends device battery life

**Reset to Auto**: Button appears when manually adjusted

**How It Works**:
- Original brightness is saved when enabling low light mode
- Brightness is restored when disabling low light mode
- Manual adjustments override automatic calculation

### Interface Dimming

**Toggle**: "Dim UI Elements"

**When Enabled** (Default):
- Toolbars become semi-transparent
- Buttons and controls are dimmed
- Focus remains on song content
- Minimal visual distraction

**When Disabled**:
- Normal UI element brightness
- Better for navigating menus
- Use when you need to change settings frequently

### Auto-Enable

**Purpose**: Automatically enable low light mode during specific hours

**Toggle**: "Auto-Enable by Time"

**Configuration**:
- **Start Time**: When low light mode turns on (default: 8:00 PM)
- **End Time**: When low light mode turns off (default: 7:00 AM)
- Works across midnight (e.g., 8 PM to 7 AM)

**Use Cases**:
- Evening performances and rehearsals
- Late-night practice sessions
- Consistent schedule for regular gigs
- Never forget to enable it

**Manual Override**: You can still toggle manually at any time

**Behavior**:
- Checks time when opening song
- Automatically enables if within time range
- Automatically disables when time range ends
- Respects manual toggle overrides

## Low Light Mode for Different Views

### Text View (ChordPro)

**What Changes**:
- Background becomes pure black
- Lyrics display in selected low light color
- Chords tinted with low light color
- Section labels dimmed
- Metadata uses low light color scheme

**Visibility**:
- High contrast against black background
- Easy to read from distance
- Clear chord changes
- No bright white light

**Best Practices**:
- Use amber for long reading sessions
- Use red for maintaining night vision between songs
- Increase intensity if struggling to read
- Adjust device distance for comfort

### PDF View

**What Changes**:
- Background becomes black
- PDF content is tinted with low light color
- Color filter applied to entire PDF
- Maintains readability while reducing brightness

**How It Works**:
- Original PDF colors are preserved
- Red/amber tint overlaid on content
- Black areas remain black
- White areas become low light color

**Best For**:
- Scanned sheet music
- Printed chord charts
- Professional scores
- Handwritten charts

**Limitations**:
- Very dark PDFs may be hard to read
- Colored markings may not be visible
- Some fine details might be harder to see

**Tips**:
- Increase intensity for detailed PDFs
- Use amber for better readability
- Consider extracting to text format for better control

### Metronome Integration

**Visual Metronome**:
- Pulsing indicator uses low light colors
- Downbeat remains orange but dimmed
- Regular beats use low light color
- BPM display tinted

**Controls**:
- Metronome controls sheet respects low light mode
- Buttons and sliders dimmed
- Easy to adjust settings without blinding yourself

## Use Cases and Workflows

### Live Performance on Stage

**Workflow**:
1. Enable auto-enable (8 PM - 2 AM)
2. Set intensity to 60-70%
3. Choose red color for night vision
4. Enable UI dimming
5. Arrive at venue - low light mode activates automatically
6. Perform with minimal light pollution
7. After performance, mode disables automatically

**Benefits**:
- Don't blind band members with bright screen
- Preserve night vision when moving in dark
- Professional appearance on stage
- Longer battery life for full set

### Late Night Practice

**Workflow**:
1. Enable low light mode manually (Cmd+L)
2. Set intensity to 80% for practice
3. Choose amber for comfort
4. Adjust brightness to 20-30%
5. Practice without disturbing others
6. Easy on eyes for long sessions

**Benefits**:
- Won't disturb roommates/family
- Comfortable for extended practice
- Saves battery
- Creates focused practice environment

### Recording Studio

**Workflow**:
1. Enable low light mode before recording
2. Use orange or amber color
3. Set intensity to 50-60%
4. Position device out of camera view
5. Read lyrics/chords during recording
6. No screen glare in recording

**Benefits**:
- Minimal light pollution in video
- Easy to read without bright light
- Professional studio atmosphere
- Won't wash out camera exposure

### Rehearsal Space

**Workflow**:
1. Enable low light mode upon entering
2. Use amber for better readability
3. Set intensity to 70%
4. Keep UI dimming enabled
5. Focus on playing, glance at device when needed

**Benefits**:
- Less eye strain during long rehearsals
- Easy to see in dimly lit spaces
- Professional appearance
- Battery lasts longer

### Worship/Church Services

**Workflow**:
1. Auto-enable before evening services
2. Set to red at 60% intensity
3. Enable UI dimming
4. Minimal distraction during service
5. Easy to read during dim stage lighting

**Benefits**:
- Respectful to congregation
- Won't distract other musicians
- Maintains solemn atmosphere
- Clear visibility of worship lyrics

## Best Practices

### Choosing the Right Color

✅ **DO**:
- Use **red** for maximum night vision preservation
- Use **amber** for better readability and comfort
- Use **orange** as a middle ground
- Use **deep red** in extremely dark environments
- Test different colors in your typical environment

❌ **DON'T**:
- Use high intensity in very dark venues
- Stick with one color for all situations
- Forget to adjust for different lighting conditions
- Use colors that strain your eyes

### Setting Intensity

✅ **DO**:
- Start at 70% and adjust from there
- Reduce intensity in very dark spaces
- Increase intensity when you need quick reading
- Match intensity to ambient lighting
- Test before performance

❌ **DON'T**:
- Max out intensity unnecessarily
- Set too low and strain to read
- Forget to adjust for venue lighting
- Keep same setting for all environments

### Brightness Management

✅ **DO**:
- Let automatic brightness work first
- Manually adjust only if needed
- Reset to auto after specific adjustments
- Remember brightness affects battery life
- Find comfortable level for your eyes

❌ **DON'T**:
- Max out brightness in dark venue
- Set too dim and squint to read
- Forget you manually adjusted it
- Ignore battery percentage

### Auto-Enable Configuration

✅ **DO**:
- Set times matching your typical schedule
- Account for time zone when traveling
- Test auto-enable before important gig
- Remember it works daily
- Use manual toggle for exceptions

❌ **DON'T**:
- Set overly wide time ranges
- Forget to disable for daytime rehearsals
- Rely solely on auto-enable
- Ignore manual toggle option

## Troubleshooting

### Too Dark to Read

**Problem**: Can't see song content clearly

**Solutions**:
- Increase intensity slider (70-90%)
- Switch to amber or orange color
- Increase manual brightness (30-40%)
- Disable UI dimming temporarily
- Move closer to screen
- Check ambient lighting

### Night Vision Not Preserved

**Problem**: Eyes struggle adjusting to darkness after using device

**Solutions**:
- Reduce intensity to 40-60%
- Switch to deep red color
- Lower manual brightness to 10-15%
- Enable UI dimming
- Look away from screen periodically
- Give eyes time to readjust

### Auto-Enable Not Working

**Problem**: Low light mode doesn't activate at scheduled time

**Possible Causes**:
1. Auto-enable toggle is off
2. Time zone is incorrect
3. System time is wrong
4. Start/end times are backwards

**Solutions**:
- Check "Auto-Enable by Time" toggle is on
- Verify start and end times are correct
- Restart app if needed
- Use manual toggle as backup

### PDF Too Hard to Read

**Problem**: PDF content unclear in low light mode

**Solutions**:
- Increase intensity to 80-90%
- Switch to amber color (better for details)
- Increase manual brightness
- Zoom in on PDF sections
- Consider extracting to text format
- Use original PDF in moderate lighting

### Battery Draining Fast

**Problem**: Device battery depleting quickly

**Causes**:
- Brightness override set too high
- Intensity too high
- Screen always on during practice

**Solutions**:
- Reduce manual brightness to 20% or less
- Enable auto-brightness (remove override)
- Lower intensity if possible
- Enable auto-sleep when not viewing
- Charge device between songs

### Colors Look Washed Out

**Problem**: Low light colors appear faded

**Solutions**:
- Increase intensity slider
- Check display settings (contrast, color calibration)
- Clean device screen
- Adjust viewing angle
- Try different color (amber usually stronger)

### UI Elements Invisible

**Problem**: Can't see buttons and controls

**Solutions**:
- Disable "Dim UI Elements" temporarily
- Increase intensity
- Increase manual brightness for settings changes
- Toggle low light mode off briefly
- Long-press moon icon for settings access

## Tips & Tricks

### Quick Intensity Adjustment

**Method**: Access settings via long-press on moon icon
1. Long-press moon icon
2. Tap "Low Light Settings"
3. Drag intensity slider
4. See immediate preview
5. Tap "Done"

**Benefit**: Adjust on-the-fly during performance

### Finding Your Perfect Settings

**Method**: Test different combinations before performance
1. Enable low light mode in similar lighting
2. Try each color at 70% intensity
3. Choose most comfortable color
4. Adjust intensity up or down
5. Test for 5-10 minutes
6. Save combination mentally for future

**Benefit**: No surprises during important gigs

### Battery Saver Mode

**Optimal Settings**:
- Red or deep red color
- 50-60% intensity
- 10-15% manual brightness
- UI dimming enabled

**Benefit**: Longest possible battery life

### Maximum Visibility Mode

**Optimal Settings**:
- Amber or orange color
- 80-90% intensity
- 30-40% manual brightness
- UI dimming disabled

**Benefit**: Best readability when needed

### Progressive Night Adaptation

**Method**: Gradually reduce brightness as eyes adjust
1. Start at 40% brightness
2. After 5 minutes, reduce to 30%
3. After 10 minutes, reduce to 20%
4. After 15 minutes, reduce to 10-15%
5. Eyes fully adapted to darkness

**Benefit**: Smooth transition without eye strain

### Color Testing Before Performance

**Method**: Test all colors in actual venue
1. Arrive early to venue
2. Set up in performance position
3. Test each color briefly
4. Check visibility from playing distance
5. Choose best color for that venue

**Benefit**: Perfect visibility for that specific environment

### Using with In-Ear Monitors

**Combination**: Low light mode + visual metronome
1. Enable low light mode (red, 60%)
2. Use visual metronome (no audio)
3. Position device at eye level
4. Read charts while monitoring tempo visually

**Benefit**: No audio bleed, perfect timing, preserved night vision

## Keyboard Shortcuts

**Cmd+L**: Toggle low light mode on/off

**Pro Tip**: Use when quickly switching between editing (normal mode) and performing (low light mode)

## Advanced Features

### Color Science

**Why Red Light?**:
- Red light has longest wavelength
- Doesn't trigger night vision suppression
- Preserves rhodopsin in eyes
- Military and astronomy standard
- Scientific basis for night vision preservation

**Color Comparison**:
- **Red (625-740 nm)**: Best night vision, professional use
- **Amber (590-625 nm)**: Good compromise, more comfortable
- **Orange (585-620 nm)**: Balanced visibility and preservation
- **Deep Red (640-740 nm)**: Maximum preservation, minimal light

### Brightness Algorithm

**Automatic Calculation**:
```
targetBrightness = intensity × 0.3
```

**Example**:
- 70% intensity → 21% brightness
- 50% intensity → 15% brightness
- 100% intensity → 30% brightness

**Maximum**: Capped at 30% to prevent night vision loss

### PDF Color Transformation

**Technical Details**:
- Original PDF colors preserved
- Color matrix filter applied
- RGB channels multiplied by low light color
- Intensity controls saturation
- Black remains black, white becomes tinted

**Color Matrix**:
```
R' = R × lowLightR × intensity
G' = G × lowLightG × intensity
B' = B × lowLightB × intensity
```

## Integration with Other Features

### Metronome

**Behavior**:
- Visual metronome uses low light colors
- Audio metronome unaffected
- Controls sheet respects low light mode
- Indicator tinted appropriately

**Recommendation**: Use visual metronome for silent practice

### Autoscroll

**Behavior**:
- Autoscroll continues normally
- Controls remain visible but dimmed
- Timing unaffected
- Smooth scrolling maintained

**Recommendation**: Test autoscroll speed in low light before performance

### Annotations

**Behavior**:
- Sticky notes display in low light colors
- Drawing tools tinted
- Edit mode respects low light
- Colors adjusted for visibility

**Recommendation**: Create annotations in normal mode, view in low light

### Display Settings

**Interaction**:
- Display settings preserved
- Low light overrides colors temporarily
- Font sizes unchanged
- Spacing maintained

**Recommendation**: Optimize display settings before enabling low light

## FAQ

**Q: Will low light mode save my battery?**
A: Yes! Reduced brightness significantly extends battery life, especially on OLED screens.

**Q: Can I use low light mode during the day?**
A: You can, but it's designed for dark environments. Sunlight may make screen harder to read.

**Q: Does low light mode work with all songs?**
A: Yes, both text (ChordPro) and PDF views support low light mode.

**Q: Will my settings be saved?**
A: Yes, all settings (color, intensity, auto-enable) are saved automatically.

**Q: Can I disable low light mode quickly?**
A: Yes, tap moon icon in toolbar or press Cmd+L.

**Q: Does low light mode affect other apps?**
A: No, brightness changes only affect your device while in Lyra. Brightness restores when you exit.

**Q: What if I forget low light mode is enabled?**
A: Toggle is clearly visible in toolbar with colored indicator. Easy to see and disable.

**Q: Can I schedule different times for weekdays vs. weekends?**
A: Currently auto-enable uses same schedule daily. Use manual toggle for exceptions.

**Q: Will PDFs look good in low light mode?**
A: Yes, but very detailed PDFs may require higher intensity. Test before performance.

**Q: Does low light mode work with external displays?**
A: Yes, low light mode applies when mirroring to external displays.

**Q: Can I use low light mode while recording?**
A: Yes! It's perfect for recording - won't create screen glare in video.

**Q: What intensity should I use for most performances?**
A: Start with 70% and adjust based on venue. 60-80% works for most situations.

**Q: Is red or amber better?**
A: Red for maximum night vision, amber for better readability. Try both!

**Q: Can I adjust settings during a performance?**
A: Yes, long-press moon icon for quick access to settings without leaving song view.

**Q: Will low light mode help with eye strain?**
A: Yes, especially during long practice sessions or performances.

**Q: Does low light mode work with accessibility features?**
A: Yes, works with VoiceOver and other accessibility features.

---

**Version**: 1.0.0
**Last Updated**: January 2026
**Related Guides**: DISPLAY_SETTINGS_GUIDE.md, METRONOME_GUIDE.md, AUTOSCROLL_GUIDE.md
